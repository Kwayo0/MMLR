[gd_scene load_steps=13 format=3 uid="uid://0h086jxbc0j"]

[ext_resource type="MeshLibrary" uid="uid://b6c0kq3ohlddi" path="res://assets/lib.tres" id="1_uam4j"]
[ext_resource type="Script" uid="uid://c5n6md5kvodl8" path="res://scenes/dungeons/main_sub_gate_1.gd" id="1_yxwif"]
[ext_resource type="PackedScene" uid="uid://bnhri88p0nehp" path="res://scenes/characters/megaman.tscn" id="2_4fwru"]
[ext_resource type="PackedScene" uid="uid://ca5ijfjdvqu1o" path="res://scenes/warp_zone.tscn" id="4_dki5k"]
[ext_resource type="ArrayMesh" uid="uid://bd8ukw1q3dywo" path="res://assets/objs/dungeons/Ramp_walls.obj" id="5_bg2kh"]
[ext_resource type="ArrayMesh" uid="uid://5hiouvxeddte" path="res://assets/objs/dungeons/Ramp_walls_alt.obj" id="6_imgdt"]

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_c4wp1"]

[sub_resource type="Environment" id="Environment_c4wp1"]
ambient_light_source = 2
ambient_light_color = Color(1, 1, 1, 1)
ambient_light_energy = 0.5

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_bg2kh"]
data = PackedVector3Array(-0.5, -0.5, -1.5, -0.5, 0.5, 1.5, -0.5, 1, -1.5, -0.5, 1, -1.5, -0.5, 0.5, 1.5, -0.5, 2, 1.5)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_imgdt"]
data = PackedVector3Array(0.5, 0.5, 1.5, 0.5, -0.5, -1.5, 0.5, 2, 1.5, 0.5, 2, 1.5, 0.5, -0.5, -1.5, 0.5, 1, -1.5)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_qaevf"]
data = PackedVector3Array(-0.5, -0.5, -1.5, -0.5, 0.5, 1.5, -0.5, 1, -1.5, -0.5, 1, -1.5, -0.5, 0.5, 1.5, -0.5, 2, 1.5)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_vih5s"]
data = PackedVector3Array(0.5, 0.5, 1.5, 0.5, -0.5, -1.5, 0.5, 2, 1.5, 0.5, 2, 1.5, 0.5, -0.5, -1.5, 0.5, 1, -1.5)

[node name="dungeon" type="Node3D"]
script = ExtResource("1_yxwif")

[node name="GridMap" type="GridMap" parent="."]
mesh_library = ExtResource("1_uam4j")
cell_size = Vector3(1, 1, 1)
data = {
"cells": PackedInt32Array(-1, 65535, 393216, -1, 65534, 393216, -1, 65533, 393216, -2, 65534, 393216, -65536, 65534, 393216, -65536, 65533, 393216, -65536, 65535, 393216, -2, 65535, 393216, -2, 65533, 393216, -3, 65534, 393216, -4, 65534, 393216, -5, 65534, 393216, -5, 65535, 393216, -5, 0, 393216, -6, 1, 393216, -6, 2, 393216, -6, 3, 393216, -5, 3, 393216, -5, 2, 393216, -5, 1, 393216, -5, 4, 393216, -5, 5, 393216, -5, 6, 393216, -5, 7, 393216, -6, 6, 393216, -7, 6, 393216, -8, 6, 393216, -65544, 10, 393216, -65544, 11, 393216, -65545, 10, 393216, -65546, 10, 393216, -65547, 11, 393216, -65548, 11, 393216, -65549, 11, 393216, -65549, 10, 393216, -65549, 9, 393216, -65548, 9, 393216, -65547, 9, 393216, -65547, 10, 393216, -65548, 10, 393216, -65548, 8, 393216, -65548, 6, 393216, -65548, 7, 393216, -65547, 6, 393216, -65549, 6, 393216, -65549, 5, 393216, -65548, 5, 393216, -65547, 5, 393216, -65551, 5, 393216, -65550, 5, 393216, -65552, 5, 393216, -65553, 5, 393216, -65553, 6, 393216, -65554, 5, 393216, -65554, 6, 393216, -131089, 10, 393216, -131090, 10, 393216, -131089, 11, 393216, -131089, 12, 393216, -131089, 13, 393216, -131088, 13, 393216, -131087, 13, 393216, -131087, 14, 393216, -131087, 15, 393216, -131088, 16, 393216, -131087, 16, 393216, -131086, 16, 393216, -131086, 17, 393216, -131086, 18, 393216, -131087, 18, 393216, -131088, 18, 393216, -131088, 17, 393216, -131087, 17, 393216, -131089, 17, 393216, -131087, 19, 393216, -131085, 17, 393216, -131084, 17, 393216, -131083, 17, 393216, -131083, 16, 393216, -131083, 18, 393216, -131082, 18, 393216, -131081, 18, 393216, -131081, 17, 393216, -131081, 16, 393216, -131082, 16, 393216, -131082, 17, 393216, -131080, 17, 393216, -131082, 15, 393216, -131082, 19, 393216, -65544, 9, 393216, -65544, 8, 393216, -65544, 7, 393216, -8, 8, 458754, 65534, 0, 655376, 65535, 0, 655376, 0, 0, 655376, 65533, 65535, 1048577, 65532, 65535, 655361, 131069, 4, 655377, 131068, 4, 655379, 65530, 4, 1048577, 65531, 8, 655376, 65530, 7, 1048577, -8, 12, 655365, -9, 11, 1048577, -10, 11, 655361, -11, 12, 655365, -12, 12, 655365, -13, 12, 655365, -11, 7, 655361, -13, 7, 1048577, -14, 6, 1048577, -15, 6, 655365, -16, 6, 655361, -65554, 11, 1048577, -65553, 14, 655365, -65552, 14, 1048577, -65552, 19, 1048577, -65551, 20, 655365, -65550, 19, 655361, -65549, 18, 655361, -65548, 18, 1048577, -65547, 19, 1048577, -65546, 20, 655365, -65545, 19, 655361, -65544, 18, 655361, -65554, 17, 1048581, -65553, 16, 1, -65552, 15, 1, -65548, 16, 1, -65549, 16, 1441793, -65546, 14, 5, -65547, 15, 1, -65545, 15, 1441793, -65544, 16, 1441793, -65550, 15, 1441793, -65551, 12, 5, -65552, 12, 1441793, -18, 4, 5, -17, 4, 5, -16, 4, 5, -15, 4, 5, -14, 4, 1, -13, 8, 1, -11, 8, 1441793, -10, 9, 1441793, 65528, 5, 5, 65529, 5, 5, 65530, 5, 1, 65530, 0, 1, 0, 65532, 16, 65534, 65532, 16, 65533, 65533, 1, 65532, 65533, 16, 65531, 65533, 16, 65530, 65534, 1048592, 65530, 65535, 1048592, 65529, 1, 1048581, 65529, 2, 1048581, 65529, 3, 1048581, 65527, 6, 1048581, -14, 11, 1048581, -14, 10, 1048581, -14, 9, 1048581, -19, 5, 1048581, -19, 6, 1048581, -65555, 10, 1048581, -65554, 12, 1048581, -65554, 13, 1048581, -65553, 18, 1048577, 1, 65533, 1441808, 1, 65534, 1441808, 1, 65535, 1441808, 65532, 0, 1441808, 131070, 1, 1441809, 131070, 2, 1441809, 131070, 3, 1441809, 131069, 0, 17, 131068, 0, 1441811, 65532, 5, 1441808, 65532, 6, 1441808, 65532, 7, 1441808, -7, 10, 1441797, -7, 11, 1441797, -10, 5, 1441797, -10, 6, 1441797, -65552, 10, 1441797, -65552, 11, 1441797, -65550, 13, 1441797, -65550, 14, 1441797, -65543, 17, 1441797, -65554, 8, 458754, -65553, 8, 458754, 65535, 65532, 1441795, 65535, 65531, 1441796, -13, 4, 1441804, -12, 4, 1441804, -11, 4, 1441804, -10, 4, 1441797, 65532, 1, 1441801, 65532, 2, 1441801, 65532, 3, 1441801, 65533, 1, 1441810, 65533, 2, 1441810, 65533, 3, 1441810, 65537, 65533, 1441809, 65537, 65534, 1441809, 65537, 65535, 1441809, 65536, 0, 655377, 131071, 0, 655377, 131070, 0, 655377, 131069, 65535, 1048595, 131069, 65533, 19, 131070, 65532, 17, 65536, 65532, 17, 131068, 65533, 17, 131067, 65533, 17, 131066, 65534, 1048593, 131066, 65535, 1048593, 131066, 0, 19, 131068, 65535, 655379, 131068, 5, 1441809, 131068, 6, 1441809, 131068, 7, 1441809, 131066, 4, 1048595, 131065, 3, 1048593, 131065, 2, 1048593, 131065, 1, 1048593, 131067, 8, 655377, 131066, 5, 19, 131065, 5, 17, 131064, 5, 17, 131063, 6, 1048593, 131066, 7, 1048595, 65529, 7, 655376, 131065, 7, 655377, -9, 9, 16, 65529, 10, 1441809, 65529, 11, 1441809, 65528, 12, 655377, 65527, 11, 1048595, 65526, 11, 655379, 65526, 9, 1441811, 65525, 8, 1441811, 65523, 8, 19, 65525, 7, 655379, 65523, 7, 1048595, 65522, 6, 1048595, 65525, 12, 655377, 65524, 12, 655377, 65523, 12, 655377, 65522, 11, 1048593, 65522, 10, 1048593, 65522, 9, 1048593, 65527, 9, 17, 65526, 6, 1441809, 65526, 5, 1441809, 65526, 4, 1441809, 65525, 3, 17, 65524, 3, 17, 65523, 3, 17, 65522, 4, 19, 65520, 6, 655379, -18, 11, 1048595, 65521, 4, 17, 65520, 4, 17, 65519, 4, 17, 65518, 4, 17, 65517, 5, 1048593, 65517, 6, 1048593, 65521, 6, 655377, -19, 10, 1048593, -16, 10, 1441809, -18, 12, 1048593, -18, 13, 1048593, -17, 14, 655377, -18, 17, 1048593, -15, 20, 655377, -10, 14, 17, -7, 17, 1441809, -10, 20, 655377, -14, 14, 1441809, -14, 13, 1441809, -15, 12, 17, -16, 11, 1441809, -16, 12, 1441811, -16, 14, 1048595, -16, 15, 19, -17, 16, 19, -14, 15, 1441811, -13, 16, 1441811, -13, 18, 655379, -14, 19, 655379, -16, 19, 1048595, -17, 18, 1048595, -11, 19, 1048595, -12, 18, 1048595, -12, 16, 19, -11, 15, 19, -9, 15, 1441811, -8, 16, 1441811, -8, 18, 655379, -9, 19, 655379, 65532, 4, 1441808)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="Megaman" parent="." instance=ExtResource("2_4fwru")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5, 0, -0.5)

[node name="LightmapGI" type="LightmapGI" parent="."]
camera_attributes = SubResource("CameraAttributesPractical_c4wp1")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_c4wp1")

[node name="Warp Zone" parent="." instance=ExtResource("4_dki5k")]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, -0.5, 0.5, -5.5)

[node name="Enemies" type="Node3D" parent="."]

[node name="Objects" type="Node3D" parent="."]

[node name="Surfaces" type="Node3D" parent="."]

[node name="RampWalls" type="MeshInstance3D" parent="Surfaces"]
transform = Transform3D(-1, 0, 8.742278e-08, 0, 1, 0, -8.742278e-08, 0, -1, -7.5, -0.5, 8.5)
mesh = ExtResource("5_bg2kh")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Surfaces/RampWalls"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Surfaces/RampWalls/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_bg2kh")

[node name="RampWallsAlt" type="MeshInstance3D" parent="Surfaces"]
transform = Transform3D(-1, 0, 8.742278e-08, 0, 1, 0, -8.742278e-08, 0, -1, -7.5, -0.5, 8.5)
mesh = ExtResource("6_imgdt")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Surfaces/RampWallsAlt"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Surfaces/RampWallsAlt/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_imgdt")

[node name="RampWalls2" type="MeshInstance3D" parent="Surfaces"]
transform = Transform3D(-1, 0, 8.742278e-08, 0, 1, 0, -8.742278e-08, 0, -1, -16.5, -1.5, 8.5)
mesh = ExtResource("5_bg2kh")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Surfaces/RampWalls2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Surfaces/RampWalls2/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_qaevf")

[node name="RampWallsAlt2" type="MeshInstance3D" parent="Surfaces"]
transform = Transform3D(-1, 0, 8.742278e-08, 0, 1, 0, -8.742278e-08, 0, -1, -17.5, -1.5, 8.5)
mesh = ExtResource("6_imgdt")

[node name="StaticBody3D" type="StaticBody3D" parent="Surfaces/RampWallsAlt2"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Surfaces/RampWallsAlt2/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_vih5s")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.9353012, 0.0045927092, 0.3538231, -0.082682796, 0.9750719, 0.20590825, -0.34405735, -0.22184134, 0.9123657, 0, 0, 0)

[connection signal="body_entered" from="Warp Zone" to="." method="_on_warp_zone_body_entered"]
