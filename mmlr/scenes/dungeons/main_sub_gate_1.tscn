[gd_scene load_steps=11 format=3 uid="uid://0h086jxbc0j"]

[ext_resource type="MeshLibrary" uid="uid://b6c0kq3ohlddi" path="res://assets/lib.tres" id="1_uam4j"]
[ext_resource type="Script" uid="uid://c5n6md5kvodl8" path="res://scenes/dungeons/main_sub_gate_1.gd" id="1_yxwif"]
[ext_resource type="PackedScene" uid="uid://bnhri88p0nehp" path="res://scenes/characters/megaman.tscn" id="2_4fwru"]
[ext_resource type="PackedScene" uid="uid://ca5ijfjdvqu1o" path="res://scenes/warp_zone.tscn" id="4_dki5k"]
[ext_resource type="ArrayMesh" uid="uid://bd8ukw1q3dywo" path="res://assets/objs/dungeons/Ramp_walls.obj" id="5_bg2kh"]
[ext_resource type="ArrayMesh" uid="uid://d22fem8wb0vg4" path="res://assets/objs/dungeons/funky_guy.obj" id="6_bg2kh"]

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_c4wp1"]

[sub_resource type="Environment" id="Environment_c4wp1"]
background_mode = 1
ambient_light_source = 2
ambient_light_color = Color(1, 1, 1, 1)
ambient_light_energy = 0.5

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_5uxxa"]
data = PackedVector3Array(-1.5, 0.375, -0.5, -1.5, 1.875, -0.5, 1.5, -0.375, -0.5, 1.5, -0.375, -0.5, -1.5, 1.875, -0.5, 1.5, 1.125, -0.5)

[sub_resource type="BoxShape3D" id="BoxShape3D_5uxxa"]
size = Vector3(1, 2.5, 3)

[node name="dungeon" type="Node3D"]
script = ExtResource("1_yxwif")

[node name="GridMap" type="GridMap" parent="."]
mesh_library = ExtResource("1_uam4j")
cell_size = Vector3(1, 0.75, 1)
data = {
"cells": PackedInt32Array(-1, 65535, 655360, -1, 65534, 655360, -1, 65533, 655360, -2, 65534, 655360, -65536, 65534, 655360, -3, 65534, 0, -4, 65534, 0, -5, 65534, 0, -5, 65535, 0, -5, 0, 0, -6, 1, 0, -6, 2, 0, -6, 3, 0, -5, 3, 0, -5, 2, 0, -5, 1, 0, -5, 4, 0, -5, 5, 0, -5, 6, 0, -5, 7, 0, -6, 6, 0, -7, 6, 0, -8, 6, 0, -65544, 10, 0, -65544, 11, 0, -65545, 10, 0, -65546, 10, 0, -65547, 11, 0, -65548, 11, 0, -65549, 11, 0, -65549, 10, 0, -65549, 9, 0, -65548, 9, 0, -65547, 9, 0, -65547, 10, 0, -65548, 10, 0, -65548, 8, 0, -65548, 6, 0, -65548, 7, 0, -65547, 6, 0, -65549, 6, 0, -65549, 5, 0, -65548, 5, 0, -65547, 5, 0, -65553, 5, 0, -65553, 6, 0, -65554, 5, 0, -65554, 6, 0, -131089, 10, 1441792, -131090, 10, 1441792, -131089, 11, 1441792, -131089, 12, 1441792, -131089, 13, 1441792, -131088, 13, 1441792, -131087, 13, 1441792, -131087, 14, 1441792, -131087, 15, 1441792, -131088, 16, 1441792, -131087, 16, 1441792, -131086, 16, 1441792, -131086, 17, 1441792, -131086, 18, 1441792, -131087, 18, 1441792, -131088, 18, 1441792, -131088, 17, 1441792, -131087, 17, 1441792, -131085, 17, 1441792, -131084, 17, 1441792, -131083, 17, 1441792, -131083, 16, 1441792, -131083, 18, 1441792, -131082, 18, 1441792, -131081, 18, 1441792, -131081, 17, 1441792, -131081, 16, 1441792, -131082, 16, 1441792, -131082, 17, 1441792, 65535, 0, 655376, 65532, 65535, 655361, 131069, 4, 655376, 131068, 4, 655361, 65530, 4, 1048577, 65531, 8, 655376, 65530, 7, 1048577, -8, 12, 655365, -9, 11, 1048577, -10, 11, 655361, -11, 12, 655365, -12, 12, 655365, -13, 12, 655365, -11, 7, 655361, -13, 7, 1048577, -65554, 11, 1048577, -65553, 14, 655365, -65552, 14, 1048577, -65549, 18, 655361, -65548, 18, 1048577, -65552, 15, 1, -65548, 16, 1, -65549, 16, 1441793, -65550, 15, 1441793, -65551, 12, 5, -65552, 12, 1441793, -18, 4, 5, -17, 4, 5, -13, 8, 1, -11, 8, 1441793, -10, 9, 1441793, 65528, 5, 5, 65529, 5, 5, 65530, 5, 1, 65530, 0, 1, 65532, 65533, 16, 65531, 65533, 16, 65530, 65534, 1048592, 65530, 65535, 1048592, 65529, 1, 1048581, 65529, 2, 1048581, 65529, 3, 1048581, 65527, 6, 1048581, -14, 11, 1048581, -14, 10, 1048581, -14, 9, 1048581, -19, 5, 1048581, -19, 6, 1048581, -65555, 10, 1048581, -65554, 12, 1048581, -65554, 13, 1048581, 1, 65534, 1441808, 65532, 0, 1441793, 131070, 1, 1441808, 131070, 2, 1441808, 131070, 3, 1441808, 131068, 0, 1441793, 65532, 5, 1441808, 65532, 6, 1441808, 65532, 7, 1441808, -7, 10, 1441797, -7, 11, 1441797, -10, 5, 1441797, -10, 6, 1441797, -65552, 10, 1441797, -65552, 11, 1441797, -65550, 13, 1441797, -65550, 14, 1441797, 65535, 65532, 1441795, 65535, 65531, 1441796, -13, 4, 1441804, -12, 4, 1441804, -11, 4, 1441804, -10, 4, 1441797, 65532, 1, 1441801, 65532, 2, 1441801, 65532, 3, 1441801, 65533, 1, 1441792, 65533, 2, 1441792, 65533, 3, 1441792, 65537, 65534, 1441808, 131071, 0, 655376, 131068, 65533, 16, 131067, 65533, 16, 131066, 65534, 1048592, 131066, 65535, 1048592, 131066, 0, 1, 131068, 65535, 655361, 131068, 5, 1441808, 131068, 6, 1441808, 131068, 7, 1441808, 131066, 4, 1048577, 131065, 3, 1048581, 131065, 2, 1048581, 131065, 1, 1048581, 131067, 8, 655376, 131066, 5, 1, 131065, 5, 16, 131064, 5, 16, 131063, 6, 1048592, 131066, 7, 1048577, 65529, 7, 655376, 131065, 7, 655376, -9, 9, 16, 65529, 10, 1441808, 65529, 11, 1441808, 65528, 12, 655376, 65527, 11, 1048577, 65526, 11, 655361, 65526, 9, 1441793, 65525, 8, 1441793, 65523, 8, 1, 65525, 7, 655361, 65523, 7, 1048577, 65525, 12, 655376, 65524, 12, 655376, 65523, 12, 655376, 65522, 11, 1048592, 65522, 10, 1048592, 65522, 9, 1048592, 65527, 9, 16, 65526, 6, 1441808, 65526, 5, 1441808, 65526, 4, 1441808, 65525, 3, 16, 65524, 3, 16, 65523, 3, 16, -18, 11, 1048577, 65519, 4, 16, 65518, 4, 16, 65517, 5, 1048592, 65517, 6, 1048592, -19, 10, 1048592, -16, 10, 1441808, -18, 12, 1048592, -18, 13, 1048592, -17, 14, 655376, -14, 14, 1441808, -14, 13, 1441808, -15, 12, 16, -16, 11, 1441808, -16, 12, 1441793, -16, 14, 1048577, -16, 15, 1, -17, 16, 1048592, -14, 15, 1441793, -13, 16, 1441793, -13, 18, 655361, -17, 18, 1048592, -12, 18, 1048577, -12, 16, 1, 65532, 4, 1441808, -8, 8, 1441794, -65548, 4, 0, -65554, 8, 1441794, -65553, 8, 1441794, 131071, 65532, 16, 65534, 65535, 1441803, 65534, 65533, 655371, 0, 65533, 1048587, 0, 65535, 11, 131070, 65533, 17, 65536, 65533, 1441809, 65536, 65535, 655377, 131070, 65535, 1048593, 65533, 65535, 655376, 65533, 65533, 16, 131069, 65535, 655376, 131069, 65533, 16, -14, 5, 3, -16, 5, 655363, -15, 5, 655364, -14, 6, 1048592, -14, 4, 1048592, 65522, 4, 1048592, 65522, 5, 1048592, 65522, 6, 1048592, 65520, 5, 1441808, 65520, 6, 1441808, -16, 6, 1441808, -65553, 16, 1048592, -65553, 18, 1048592, -65552, 19, 655376, -65550, 19, 655376, -14, 19, 655376, -16, 19, 655376, -65547, 19, 655376, -65545, 19, 655376, -9, 19, 655376, -11, 19, 655376, -11, 15, 16, -9, 15, 16, -65547, 15, 16, -65545, 15, 16, -65544, 16, 1441808, -65544, 18, 1441808, -8, 18, 1441808, -8, 16, 1441808, 131069, 0, 16)
}
metadata/_editor_floor_ = Vector3(0, 1, 0)

[node name="Megaman" parent="." instance=ExtResource("2_4fwru")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5, 0, -0.5)

[node name="OmniLight3D" type="OmniLight3D" parent="Megaman"]

[node name="LightmapGI" type="LightmapGI" parent="."]
camera_attributes = SubResource("CameraAttributesPractical_c4wp1")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_c4wp1")

[node name="Warp Zone" parent="." instance=ExtResource("4_dki5k")]
transform = Transform3D(0.8, 0, 0, 0, 0.8, 0, 0, 0, 0.8, -0.5, 0.3, -5.5)

[node name="Enemies" type="Node3D" parent="."]

[node name="Objects" type="Node3D" parent="."]

[node name="RampWalls" type="MeshInstance3D" parent="Objects"]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -7.5, -0.375, 8.5)
mesh = ExtResource("5_bg2kh")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Objects/RampWalls"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Objects/RampWalls/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_5uxxa")

[node name="RampWalls2" type="MeshInstance3D" parent="Objects"]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, 1, 0, 4.371139e-08, -7.5, -0.375, 8.5)
mesh = ExtResource("5_bg2kh")
skeleton = NodePath("../..")

[node name="RampWalls3" type="MeshInstance3D" parent="Objects"]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -16.5, -1.125, 8.5)
mesh = ExtResource("5_bg2kh")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Objects/RampWalls3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.125, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Objects/RampWalls3/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.125, 0)
shape = SubResource("ConcavePolygonShape3D_5uxxa")

[node name="RampWalls4" type="MeshInstance3D" parent="Objects"]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, 1, 0, 4.371139e-08, -17.5, -1.125, 8.5)
mesh = ExtResource("5_bg2kh")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="Objects/RampWalls4"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Objects/RampWalls4/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_5uxxa")

[node name="StaticBody3D" type="StaticBody3D" parent="Objects"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Objects/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.500001, 0.3, 8.5)
shape = SubResource("BoxShape3D_5uxxa")

[node name="CollisionShape3D4" type="CollisionShape3D" parent="Objects/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.500001, 0.3, 8.5)
shape = SubResource("BoxShape3D_5uxxa")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="Objects/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -18.5, -0.40708983, 8.5)
shape = SubResource("BoxShape3D_5uxxa")

[node name="CollisionShape3D3" type="CollisionShape3D" parent="Objects/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15.5, -0.40708983, 8.5)
shape = SubResource("BoxShape3D_5uxxa")

[node name="Surfaces" type="Node3D" parent="."]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.9353012, 0.0045927092, 0.3538231, -0.082682796, 0.9750719, 0.20590825, -0.34405735, -0.22184134, 0.9123657, 0, 0, 0)

[node name="FunkyGuy" type="MeshInstance3D" parent="."]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, -16.5, -1.125, 17.5)
mesh = ExtResource("6_bg2kh")

[node name="FunkyGuy2" type="MeshInstance3D" parent="."]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, -14.5, -1.125, 19.5)
mesh = ExtResource("6_bg2kh")

[node name="FunkyGuy3" type="MeshInstance3D" parent="."]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, -9.5, -1.125, 19.5)
mesh = ExtResource("6_bg2kh")

[node name="FunkyGuy4" type="MeshInstance3D" parent="."]
transform = Transform3D(1.3113416e-07, 0, -1, 0, 1, 0, 1, 0, 1.3113416e-07, -7.5, -1.125, 17.5)
mesh = ExtResource("6_bg2kh")

[node name="FunkyGuy5" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 1.7484555e-07, 0, 1, 0, -1.7484555e-07, 0, 1, -9.5, -1.125, 15.5)
mesh = ExtResource("6_bg2kh")

[connection signal="body_entered" from="Warp Zone" to="." method="_on_warp_zone_body_entered"]
