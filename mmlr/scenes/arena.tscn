[gd_scene load_steps=15 format=3 uid="uid://ci6tlso1p133k"]

[ext_resource type="PackedScene" uid="uid://bqv85i5perlgv" path="res://scenes/overworld/overworld_template.tscn" id="1_e05a3"]
[ext_resource type="MeshLibrary" uid="uid://b6c0kq3ohlddi" path="res://assets/lib.tres" id="2_olpmc"]
[ext_resource type="PackedScene" uid="uid://dll1vlewnfnsp" path="res://scenes/characters/horokko.tscn" id="3_xdvfk"]
[ext_resource type="PackedScene" uid="uid://rfqha5mlpxb7" path="res://marker.tscn" id="4_xdvfk"]
[ext_resource type="Script" uid="uid://dxd56vdex53rn" path="res://scenes/horokko_spawner.gd" id="5_7ft05"]
[ext_resource type="Script" uid="uid://dj4mrty6e3cp0" path="res://scenes/attack_p1.gd" id="6_naajo"]
[ext_resource type="Script" uid="uid://cs72updmad7rt" path="res://scenes/energy_plus_1.gd" id="7_41jku"]
[ext_resource type="Script" uid="uid://tt4mr1wf3blg" path="res://scenes/range_plus_1.gd" id="8_k1k1x"]
[ext_resource type="Script" uid="uid://duk6re2vucqhw" path="res://scenes/rapid_plus_1.gd" id="9_ajq0i"]

[sub_resource type="Environment" id="Environment_xdvfk"]
ambient_light_source = 2
ambient_light_color = Color(1, 1, 1, 1)
ambient_light_energy = 0.5

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_xdvfk"]
albedo_color = Color(1, 0, 0, 1)

[sub_resource type="SphereMesh" id="SphereMesh_7ft05"]
radius = 0.2
height = 0.4

[sub_resource type="SphereShape3D" id="SphereShape3D_4ag8t"]
radius = 0.22807637

[sub_resource type="BoxMesh" id="BoxMesh_8vbsj"]
size = Vector3(0.2, 0.4, 0.2)

[node name="World" instance=ExtResource("1_e05a3")]
process_mode = 1

[node name="Megaman" parent="." index="0" node_paths=PackedStringArray("marker")]
collision_layer = 3
marker = NodePath("../Other/Marker")

[node name="GridMap" parent="." index="1"]
mesh_library = ExtResource("2_olpmc")
cell_size = Vector3(1, 0.75, 1)
collision_layer = 5
collision_mask = 5
data = {
"cells": PackedInt32Array(-65536, 65535, 655360, -1, 65535, 655360, -1, 0, 655360, -65536, 0, 655360, -65535, 65534, 655360, -65536, 65534, 655360, -1, 65534, 655360, -2, 65534, 655360, -2, 65535, 655360, -2, 0, 655360, -2, 1, 655360, -1, 1, 655360, -65536, 1, 655360, -65535, 1, 655360, -65535, 0, 655360, -65535, 65535, 655360, 65534, 65533, 16, 65535, 65533, 16, 0, 65533, 16, 1, 65533, 16, 2, 65534, 1441808, 2, 65535, 1441808, 2, 0, 1441808, 2, 1, 1441808, 65533, 1, 1048592, 65533, 0, 1048592, 65533, 65535, 1048592, 65533, 65534, 1048592, -2, 2, 1048576, -2, 3, 1048576, -2, 4, 1048576, -2, 5, 1048576, -1, 5, 1048576, -65536, 5, 1048576, -65535, 5, 1048576, -65535, 4, 1048576, -65535, 3, 1048576, -65535, 2, 1048576, -65536, 2, 1048576, -1, 2, 1048576, -1, 3, 1048576, -1, 4, 1048576, -65536, 4, 1048576, -65536, 3, 1048576, -2, 6, 1048576, -2, 7, 1048576, -1, 7, 1048576, -65536, 7, 1048576, -65535, 7, 1048576, -65535, 6, 1048576, -65536, 6, 1048576, -1, 6, 1048576, 2, 2, 1441808, 2, 3, 1441808, 2, 4, 1441808, 2, 5, 1441808, 2, 6, 1441808, 2, 7, 1441808, 1, 8, 655376, 0, 8, 655376, 65535, 8, 655376, 65534, 8, 655376, 65533, 7, 1048592, 65533, 6, 1048592, 65533, 5, 1048592, 65533, 4, 1048592, 65533, 3, 1048592, 65533, 2, 1048592)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="Enemies" type="Node3D" parent="." index="2"]

[node name="Horokko" parent="Enemies" index="0" instance=ExtResource("3_xdvfk")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, 0.03354764, 0.125, -1.5614312)

[node name="Horokko2" parent="Enemies" index="1" instance=ExtResource("3_xdvfk")]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, 0.82561564, 0.125, -0.5111971)

[node name="Objects" type="Node3D" parent="." index="3"]

[node name="Other" type="Node3D" parent="." index="4"]

[node name="Marker" parent="Other" index="0" instance=ExtResource("4_xdvfk")]
visible = false

[node name="Projectiles" type="Node3D" parent="." index="5"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="." index="6"]
environment = SubResource("Environment_xdvfk")

[node name="OmniLight3D" type="OmniLight3D" parent="." index="7"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 3)
omni_range = 10.0

[node name="HorokkoSpawner" type="MeshInstance3D" parent="." index="8"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.3112391, 0.24833292, -1.577137)
material_override = SubResource("StandardMaterial3D_xdvfk")
mesh = SubResource("SphereMesh_7ft05")
script = ExtResource("5_7ft05")

[node name="StaticBody3D" type="Area3D" parent="HorokkoSpawner" index="0"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="HorokkoSpawner/StaticBody3D" index="0"]
shape = SubResource("SphereShape3D_4ag8t")

[node name="Label3D" type="Label3D" parent="HorokkoSpawner" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.6068791, 0)
billboard = 1
text = "Shoot to spawn
Horokko
(at random)"

[node name="attack plus 1" type="MeshInstance3D" parent="." index="9"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.696, 0.263, -1.5)
material_override = SubResource("StandardMaterial3D_xdvfk")
mesh = SubResource("BoxMesh_8vbsj")
script = ExtResource("6_naajo")

[node name="StaticBody3D" type="Area3D" parent="attack plus 1" index="0"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="attack plus 1/StaticBody3D" index="0"]
shape = SubResource("SphereShape3D_4ag8t")

[node name="Label3D" type="Label3D" parent="attack plus 1" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.6068791, 0)
billboard = 1
text = "Attack +1"

[node name="energy plus 1" type="MeshInstance3D" parent="." index="10"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.696, 0.263, -0.5)
material_override = SubResource("StandardMaterial3D_xdvfk")
mesh = SubResource("BoxMesh_8vbsj")
script = ExtResource("7_41jku")

[node name="StaticBody3D" type="Area3D" parent="energy plus 1" index="0"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="energy plus 1/StaticBody3D" index="0"]
shape = SubResource("SphereShape3D_4ag8t")

[node name="Label3D" type="Label3D" parent="energy plus 1" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.6068791, 0)
billboard = 1
text = "Energy +1"

[node name="range plus 1" type="MeshInstance3D" parent="." index="11"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.696, 0.263, 0.5)
material_override = SubResource("StandardMaterial3D_xdvfk")
mesh = SubResource("BoxMesh_8vbsj")
script = ExtResource("8_k1k1x")

[node name="StaticBody3D" type="Area3D" parent="range plus 1" index="0"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="range plus 1/StaticBody3D" index="0"]
shape = SubResource("SphereShape3D_4ag8t")

[node name="Label3D" type="Label3D" parent="range plus 1" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.6068791, 0)
billboard = 1
text = "Range +1"

[node name="rapid plus 1" type="MeshInstance3D" parent="." index="12"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.696, 0.263, 1.5)
material_override = SubResource("StandardMaterial3D_xdvfk")
mesh = SubResource("BoxMesh_8vbsj")
script = ExtResource("9_ajq0i")

[node name="StaticBody3D" type="Area3D" parent="rapid plus 1" index="0"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="rapid plus 1/StaticBody3D" index="0"]
shape = SubResource("SphereShape3D_4ag8t")

[node name="Label3D" type="Label3D" parent="rapid plus 1" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.6068791, 0)
billboard = 1
text = "Rapid +1"

[connection signal="area_entered" from="HorokkoSpawner/StaticBody3D" to="HorokkoSpawner" method="_on_static_body_3d_area_entered"]
[connection signal="area_entered" from="attack plus 1/StaticBody3D" to="attack plus 1" method="_on_static_body_3d_area_entered"]
[connection signal="area_entered" from="energy plus 1/StaticBody3D" to="energy plus 1" method="_on_static_body_3d_area_entered"]
[connection signal="area_entered" from="range plus 1/StaticBody3D" to="range plus 1" method="_on_static_body_3d_area_entered"]
[connection signal="area_entered" from="rapid plus 1/StaticBody3D" to="rapid plus 1" method="_on_static_body_3d_area_entered"]
